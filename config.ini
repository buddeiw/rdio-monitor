# Rdio Scanner Monitor Configuration File
# This file contains all configuration parameters for the monitoring system
# Modify values as needed for your specific setup

[rdio_scanner]
# Target Rdio Scanner domain configuration
# The base URL of the Rdio Scanner instance to monitor
domain = https://your-rdio-scanner-domain.com
# API endpoint path (usually /api/calls or similar)
api_path = /api/calls
# Polling interval in seconds (how often to check for new calls)
poll_interval = 30
# Maximum number of calls to fetch per request
max_calls_per_request = 100
# Authentication token if required (leave empty if no auth needed)
auth_token = 
# User agent string for HTTP requests
user_agent = RdioMonitor/1.0
# Request timeout in seconds
request_timeout = 30
# Retry attempts for failed requests
retry_attempts = 3
# Delay between retry attempts in seconds
retry_delay = 5

[database]
# PostgreSQL database configuration
host = localhost
port = 5432
database = rdio_scanner
username = scanner
password = scanner_password
# Connection pool size
pool_size = 10
# Connection timeout in seconds
connect_timeout = 30
# Enable SSL (true/false)
ssl_enabled = false
# SSL certificate path (if ssl_enabled = true)
ssl_cert_path = 
# SSL key path (if ssl_enabled = true)
ssl_key_path = 

[audio]
# Audio capture and storage configuration
# Enable audio recording (true/false)
enable_recording = true
# Base directory for audio file storage
storage_path = /var/lib/rdio-monitor/audio
# Audio format (wav, mp3, flac)
audio_format = mp3
# Audio quality/bitrate (for mp3: 128, 192, 256, 320)
audio_quality = 192
# Maximum audio file size in MB (0 = unlimited)
max_file_size = 50
# Audio retention period in days (0 = keep forever)
retention_days = 30
# Enable audio compression (true/false)
enable_compression = true
# Compression level (0-9, higher = more compression)
compression_level = 5
# Enable automatic gain control (true/false)
auto_gain_control = true
# Normalize audio levels (true/false)
normalize_audio = true

[logging]
# Logging configuration
# Log level: DEBUG, INFO, WARNING, ERROR, CRITICAL
log_level = INFO
# Log file path
log_file = /var/log/rdio-monitor/scanner.log
# Maximum log file size in MB
max_log_size = 100
# Number of log files to keep in rotation
log_backup_count = 5
# Log format string
log_format = %(asctime)s - %(name)s - %(levelname)s - %(message)s
# Date format for log timestamps
date_format = %%Y-%%m-%%d %%H:%%M:%%S
# Enable console logging (true/false)
console_logging = true
# Enable syslog logging (true/false)
syslog_logging = false
# Syslog facility (if syslog_logging = true)
syslog_facility = local0

[monitoring]
# System monitoring and health check configuration
# Health check interval in seconds
health_check_interval = 60
# Enable system metrics collection (true/false)
collect_metrics = true
# Metrics collection interval in seconds
metrics_interval = 30
# Enable email notifications (true/false)
email_notifications = false
# SMTP server for email notifications
smtp_server = smtp.gmail.com
smtp_port = 587
smtp_username = 
smtp_password = 
smtp_from_address = rdio-monitor@your-domain.com
# Email recipients for notifications (comma-separated)
email_recipients = admin@your-domain.com
# Notification triggers
notify_on_errors = true
notify_on_disk_space = true
# Disk space warning threshold (percentage)
disk_space_threshold = 85

[api]
# Internal API server configuration (for web interface)
# Enable internal web API (true/false)
enable_api = true
# API server host
api_host = 0.0.0.0
# API server port
api_port = 8080
# Enable API authentication (true/false)
api_auth_enabled = false
# API authentication key
api_auth_key = your_secure_api_key_here
# API rate limiting (requests per minute)
api_rate_limit = 1000
# Enable CORS (true/false)
enable_cors = true
# Allowed CORS origins (comma-separated)
cors_origins = *

[security]
# Security configuration
# Enable IP whitelisting (true/false)
ip_whitelist_enabled = false
# Allowed IP addresses/ranges (comma-separated)
allowed_ips = 127.0.0.1,192.168.1.0/24
# Enable request signing (true/false)
request_signing = false
# Secret key for request signing
signing_key = your_secret_signing_key_here
# Enable rate limiting (true/false)
rate_limiting = true
# Rate limit: requests per minute per IP
rate_limit_per_ip = 100
# Ban duration for rate limit violations (minutes)
ban_duration = 60

[backup]
# Backup configuration
# Enable automatic backups (true/false)
enable_backups = true
# Backup interval in hours
backup_interval = 24
# Backup retention period in days
backup_retention = 7
# Backup destination directory
backup_path = /var/lib/rdio-monitor/backups
# Include audio files in backup (true/false)
backup_audio = false
# Compression for backup files (true/false)
compress_backups = true
# Enable remote backup (true/false)
remote_backup = false
# Remote backup destination (rsync format)
remote_backup_dest = user@backup-server:/backup/rdio-monitor/
# Remote backup SSH key path
remote_backup_key = /opt/rdio-monitor/.ssh/backup_key

[performance]
# Performance tuning configuration
# Number of worker processes/threads
worker_processes = 4
# Worker thread pool size
thread_pool_size = 10
# Enable connection pooling (true/false)
connection_pooling = true
# Maximum concurrent connections
max_connections = 100
# Connection timeout in seconds
connection_timeout = 30
# Enable request queuing (true/false)
request_queuing = true
# Maximum queue size
max_queue_size = 1000
# Enable caching (true/false)
enable_caching = true
# Cache size in MB
cache_size = 128
# Cache TTL in seconds
cache_ttl = 300

[grafana]
# Grafana monitoring dashboard configuration
# Grafana admin username
admin_user = admin
# Grafana admin password (change this!)
admin_password = admin
# Grafana server port
server_port = 3000
# Grafana server host
server_host = 0.0.0.0
# Enable anonymous access (true/false)
anonymous_access = false
# Default organization name
org_name = Rdio Monitor
# Enable user registration (true/false)
allow_sign_up = false
# Session timeout in seconds
session_timeout = 86400
# Enable LDAP authentication (true/false)
ldap_enabled = false
# LDAP server configuration
ldap_server = 
ldap_port = 389
ldap_bind_dn = 
ldap_bind_password = 
ldap_search_base = 

[alerts]
# Alert configuration for system monitoring
# Enable alerting system (true/false)
enable_alerts = true
# Alert check interval in seconds
alert_interval = 60
# Database connection alert threshold (seconds)
db_connection_timeout = 10
# API response time alert threshold (seconds)
api_response_timeout = 5
# Disk space alert threshold (percentage)
disk_space_alert = 90
# Memory usage alert threshold (percentage)
memory_alert = 85
# CPU usage alert threshold (percentage)
cpu_alert = 80
# Failed request alert threshold (count per minute)
failed_requests_alert = 10
# Audio processing error alert threshold (count per hour)
audio_errors_alert = 5

[maintenance]
# System maintenance configuration
# Enable automatic cleanup (true/false)
auto_cleanup = true
# Cleanup interval in hours
cleanup_interval = 24
# Temporary file cleanup age in hours
temp_file_age = 48
# Log file cleanup age in days
log_cleanup_age = 30
# Database vacuum interval in hours (PostgreSQL optimization)
db_vacuum_interval = 168
# Enable automatic updates (true/false)
auto_updates = false
# Update check interval in hours
update_check_interval = 24
# Enable maintenance mode (true/false)
maintenance_mode = false
# Maintenance mode message
maintenance_message = System is currently under maintenance. Please try again later.

# Note: After modifying this file, restart the rdio-monitor service:
# sudo systemctl restart rdio-monitor.service
# or use the management scripts:
# sudo /opt/rdio-monitor/stop.sh && sudo /opt/rdio-monitor/start.sh